# üì¶ Maven Verify ‚Äî Composite GitHub Action

![–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π](https://img.shields.io/github/license/demid1984/maven-verify-action?logo=github&color=blue)
![GitHub Actions](https://img.shields.io/github/actions/workflow/status/demid1984/maven-verify-action/.github/workflows/ci.yml?logo=github)

> –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π composite-–¥–µ–π—Å—Ç–≤–∏–µ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ `mvn verify` —Å –≥–∏–±–∫–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π –ø–æ–¥ –≤–∞—à–∏ –Ω—É–∂–¥—ã.

## üåü –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–µ—Ä—Å–∏–∏ –∏ –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤–∞ Java (–Ω–∞–ø—Ä–∏–º–µ—Ä, Temurin 17, Adoptium 21)
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ `settings.xml` (–¥–ª—è –ø—Ä–æ–∫—Å–∏, —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤, credentials)
- ‚úÖ –ê–∫—Ç–∏–≤–∞—Ü–∏—è Maven-–ø—Ä–æ—Ñ–∏–ª–µ–π
- ‚úÖ –ü–µ—Ä–µ–¥–∞—á–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ Maven (–Ω–∞–ø—Ä–∏–º–µ—Ä, `-DskipTests`)
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è (—Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π `=` –≤ –∑–Ω–∞—á–µ–Ω–∏—è—Ö)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π Maven (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

## üì¶ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

–î–æ–±–∞–≤—å—Ç–µ –≤ –≤–∞—à workflow (`.github/workflows/*.yml`):

```yaml
- name: –ó–∞–ø—É—Å—Ç–∏—Ç—å Maven verify
  uses: demid1984/maven-verify-action@v0.0.2
  with:
    java-version: '21'
    distribution: 'temurin'
    profile-name: 'integration-tests'
    maven-args: '-DskipITs=false'
    cache-key: 'deps-v1'
    env-vars-multiline: |
      # –ü—Ä–∏–º–µ—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
      # –ü—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏ –∏ —Å—Ç—Ä–æ–∫–∏ —Å # –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è
      AWS_REGION=eu-west-1
      DB_PASSWORD=${{ secrets.DB_PASSWORD }}
```

### üîß –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|---------|----------|--------|
| `java-version` | –í–µ—Ä—Å–∏—è Java | `17`, `21` |
| `distribution` | –î–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤ Java | `temurin`, `adopt` |

### ‚öôÔ∏è –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é |
|---------|----------|-------------|
| `m2-settings` | –ü—É—Ç—å –∫ `settings.xml` –æ—Ç –∫–æ—Ä–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è | `''` |
| `profile-name` | –ò–º—è Maven-–ø—Ä–æ—Ñ–∏–ª—è | `''` |
| `maven-args` | –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã (—á–µ—Ä–µ–∑ –ø—Ä–æ–±–µ–ª) | `''` |
| `env-vars-multiline` | –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è, –ø–æ –æ–¥–Ω–æ–π –Ω–∞ —Å—Ç—Ä–æ–∫—É (`KEY=VALUE`) | `''` |
| `cache-key` | –ö–ª—é—á –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è Maven-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (–µ—Å–ª–∏ –ø—É—Å—Ç–æ ‚Äî –∫—ç—à –æ—Ç–∫–ª—é—á—ë–Ω) | `''` |

> üí° **–°–æ–≤–µ—Ç**: –î–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ—Å–º—ã—Å–ª–µ–Ω–Ω—ã–µ –∫–ª—é—á–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä:  
> `deps-v1-java21`, `deps-${{ matrix.java-version }}`, `deps-${{ hashFiles('**/pom.xml') }}`

---

## üìù –ü—Ä–∏–º–µ—Ä—ã

### –ë–∞–∑–æ–≤–∞—è —Å–±–æ—Ä–∫–∞ (–±–µ–∑ –∫—ç—à–∞)
```yaml
- uses: demid1984/maven-verify-action@v1
  with:
    java-version: '17'
    distribution: 'temurin'
```

### –° –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∏ –ø—Ä–æ—Ñ–∏–ª–µ–º
```yaml
- uses: demid1984/maven-verify-action@v1
  with:
    java-version: '21'
    distribution: 'temurin'
    profile-name: 'prod'
    cache-key: 'deps-java21-v1'
```

### –° `settings.xml` –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```yaml
- uses: demid1984/maven-verify-action@v1
  with:
    java-version: '17'
    distribution: 'temurin'
    m2-settings: '.github/settings.xml'
    env-vars-multiline: |
      # –°–µ–∫—Ä–µ—Ç—ã –∏–∑ GitHub Secrets
      SONAR_TOKEN=${{ secrets.SONAR_TOKEN }}
      # –û–±—ã—á–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
      CI=true
      APP_ENV=staging
```

---

## üîç –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. üì• checkout —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è (–ø–æ–ª–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è)
2. üß™ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —É–∫–∞–∑–∞–Ω–Ω–æ–π –≤–µ—Ä—Å–∏–∏ Java
3. üîß –ø–∞—Ä—Å–∏–Ω–≥ –∏ —ç–∫—Å–ø–æ—Ä—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è (–ø–æ–¥–¥–µ—Ä–∂–∫–∞ `=` –≤ –∑–Ω–∞—á–µ–Ω–∏—è—Ö, –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –∏ –ø—É—Å—Ç—ã—Ö —Å—Ç—Ä–æ–∫)
4. üì¶ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ `~/.m2` –ø—Ä–∏ —É–∫–∞–∑–∞–Ω–∏–∏ `cache-key`
5. ‚öôÔ∏è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ: `./mvnw -U verify`
    - –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è `-s settings.xml`, `-P profile`, –∏ `maven-args` –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

> ‚ö†Ô∏è –ï—Å–ª–∏ —É–∫–∞–∑–∞–Ω –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π `settings.xml`, –≤—ã–≤–æ–¥–∏—Ç—Å—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ, –Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è.

---

## üìå –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Runner: Linux (–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç `bash`)
- –í —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –¥–æ–ª–∂–µ–Ω –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–æ–≤–∞—Ç—å Maven Wrapper (`./mvnw`) ‚Äî –¥–µ–π—Å—Ç–≤–∏–µ **–Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç Maven** –Ω–∞–ø—Ä—è–º—É—é.

---

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è PR –∏ issues!  
–°–ª–µ–¥—É–π—Ç–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º: –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –¥–æ–±–∞–≤–ª—è–π—Ç–µ —Ç–µ—Å—Ç—ã, –æ–ø–∏—Å—ã–≤–∞–π—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è.

---

¬© 2026, demid1984  
–°–¥–µ–ª–∞–Ω–æ —Å ‚ù§Ô∏è –¥–ª—è –Ω–∞–¥—ë–∂–Ω—ã—Ö CI/CD –ø–æ—Ç–æ–∫–æ–≤.